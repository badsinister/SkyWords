
import Foundation

/**
 API: https://dictionary.skyeng.ru/doc/api/external
 
 
 https://dictionary.skyeng.ru/api/public/v1/words/search?search=ware
 
[
    {
        "id": 39846,
        "text": "ware",
        "meanings": [
        {
            "id": 184867,
            "partOfSpeechCode": "v",
            "translation": {
                "text": "тратить",
                "note": ""
            },
            "previewUrl": "//d2zkmv5t5kao9.cloudfront.net/images/cbdcb250b0a74cb37f4f11fb61c9cd1f.jpeg?w=96&h=72",
            "imageUrl": "//d2zkmv5t5kao9.cloudfront.net/images/cbdcb250b0a74cb37f4f11fb61c9cd1f.jpeg?w=640&h=480",
            "transcription": "weə",
            "soundUrl": "//d2fmfepycn0xw0.cloudfront.net?gender=male&accent=british&text=ware"
        },
        {
            "id": 184865,
            "partOfSpeechCode": "n",
            "translation": {
                "text": "изделия",
                "note": ""
            },
            "previewUrl": "//d2zkmv5t5kao9.cloudfront.net/images/b9c205f99a98857bcd9a99470595e057.jpeg?w=96&h=72",
            "imageUrl": "//d2zkmv5t5kao9.cloudfront.net/images/b9c205f99a98857bcd9a99470595e057.jpeg?w=640&h=480",
            "transcription": "weə",
            "soundUrl": "//d2fmfepycn0xw0.cloudfront.net?gender=male&accent=british&text=ware"
        },
        {
            "id": 184866,
            "partOfSpeechCode": "n",
            "translation": {
                "text": "товары",
                "note": ""
            },
            "previewUrl": "//d2zkmv5t5kao9.cloudfront.net/images/808c6a2ccc1b38098a3976f72dc7313d.jpeg?w=96&h=72",
            "imageUrl": "//d2zkmv5t5kao9.cloudfront.net/images/808c6a2ccc1b38098a3976f72dc7313d.jpeg?w=640&h=480",
            "transcription": "weə",
            "soundUrl": "//d2fmfepycn0xw0.cloudfront.net?gender=male&accent=british&text=ware"
        }
        ]
    },
    {
        "id": 95200,
        "text": "ceramic ware",
        "meanings": [
        {
            "id": 132160,
            "partOfSpeechCode": "n",
            "translation": {
                "text": "керамические изделия",
                "note": ""
            },
            "previewUrl": "//d2zkmv5t5kao9.cloudfront.net/images/d947e45f78e50c08df1567497f06014d.jpeg?w=96&h=72",
            "imageUrl": "//d2zkmv5t5kao9.cloudfront.net/images/d947e45f78e50c08df1567497f06014d.jpeg?w=640&h=480",
            "transcription": "sɪˈræmɪk weə",
            "soundUrl": "//d2fmfepycn0xw0.cloudfront.net?gender=male&accent=british&text=ceramic+ware"
        }
        ]
    },
    {
        "id": 177149,
        "text": "We put it straight through to our warehouse.",
        "meanings": [
            {
                "id": 251552,
                "partOfSpeechCode": "ph",
                "translation": {
                    "text": "Мы направили это на наш склад.",
                    "note": null
                },
                "previewUrl": "//d2zkmv5t5kao9.cloudfront.net/images/3764791c051708fa4a7bbaa5a70fb37b.jpeg?w=96&h=72",
                "imageUrl": "//d2zkmv5t5kao9.cloudfront.net/images/3764791c051708fa4a7bbaa5a70fb37b.jpeg?w=640&h=480",
                "transcription": "wiː pʊt ɪt streɪt θruː tuː ˈaʊə ˈweəhaʊs",
                "soundUrl": "//d2fmfepycn0xw0.cloudfront.net?gender=male&accent=british&text=We+put+it+straight+through+to+our+warehouse."
            }
        ]
    }
]

 
 https://dictionary.skyeng.ru/api/public/v1/meanings?ids=184867

[
    {
        "id": "184867",
        "wordId": 39846,
        "difficultyLevel": null,
        "partOfSpeechCode": "v",
        "prefix": "to",
        "text": "ware",
        "soundUrl": "//d2fmfepycn0xw0.cloudfront.net?gender=male&accent=british&text=ware",
        "transcription": "weə",
        "properties": {},
        "updatedAt": "2019-11-19 12:23:43",
        "mnemonics": null,
        "translation": {
            "text": "тратить",
            "note": ""
        },
        "images": [
            {
                "url": "//d2zkmv5t5kao9.cloudfront.net/images/cbdcb250b0a74cb37f4f11fb61c9cd1f.jpeg?w=200&h=150&q=50"
            }
        ],
        "definition": {
            "text": "Spend extravagantly.",
            "soundUrl": "//d2fmfepycn0xw0.cloudfront.net?gender=male&accent=british&text=spend+extravagantly"
        },
        "examples": [
            {
                "text": "He [wared] almost all his capital on expensive cars!",
                "soundUrl": "//d2fmfepycn0xw0.cloudfront.net?gender=male&accent=british&text=He+wared+almost+all+his+capital+on+expensive+cars%21"
            },
            {
                "text": "To [ware] money.",
                "soundUrl": "//d2fmfepycn0xw0.cloudfront.net?gender=male&accent=british&text=to+ware+money"
            }
        ],
        "meaningsWithSimilarTranslation": [
            {
                "meaningId": 184867,
                "frequencyPercent": "33.3",
                "partOfSpeechAbbreviation": "гл.",
                "translation": {
                    "text": "тратить",
                    "note": ""
                }
            },
            {
                "meaningId": 184865,
                "frequencyPercent": "33.3",
                "partOfSpeechAbbreviation": "сущ.",
                "translation": {
                    "text": "изделия",
                    "note": ""
                }
            },
            {
                "meaningId": 184866,
                "frequencyPercent": "33.3",
                "partOfSpeechAbbreviation": "сущ.",
                "translation": {
                    "text": "товары",
                    "note": ""
                }
            }
        ],
        "alternativeTranslations": [
        {
            "text": "want",
            "translation": {
                "text": "нуждаться",
                "note": "в чём-либо"
            }
        },
        {
            "text": "patch",
            "translation": {
                "text": "латать",
                "note": null
            }
        },
        {
            "text": "bulge",
            "translation": {
                "text": "выпячиваться",
                "note": null
            }
        }
        ]
    }
]

 */

/// Результаты поиска
public struct AnyPart: Codable {
    public var identifier: Int
    public var text: String
    public var meanings: [AnyMeaning]
}

public struct AnyMeaning: Codable {
    public var identifier: Int
    public var translation: AnyTranslation
    public var transcription: String
    public var preview: String
    public var sound: String
}

/// Запрошенное слово
public struct AnyBuzzword: Codable {
    public var identifier: Int
    public var text: String
    public var transcription: String
    public var translation: AnyTranslation
    public var alternativeTranslations: [AnyAlternativeTranslation]
    public var sound: String
    public var images: [[String: String]]
}

public struct AnyAlternativeTranslation: Codable {
    public var text: String
    public var translation: AnyTranslation
}

public struct AnyTranslation: Codable {
    public var text: String
    public var note: String?
}

// MARK: - CodingKeys

extension AnyPart {
    private enum CodingKeys: String, CodingKey {
        case identifier = "id"
        case text
        case meanings
    }
}

extension AnyMeaning {
    private enum CodingKeys: String, CodingKey {
        case identifier = "id"
        case translation
        case transcription
        case preview = "previewUrl"
        case sound = "soundUrl"
    }
}

extension AnyBuzzword {
    private enum CodingKeys: String, CodingKey {
        case identifier = "wordId"
        case text
        case transcription
        case translation
        case alternativeTranslations
        case sound = "soundUrl"
        case images
    }
}
